import{d as a,r as e,o as s,c as t,w as l,f as r,t as o,u as d,p as n,g as i,e as u,F as m,n as c,y as f,j as _,i as g,A as p,B as v,a as w,b as h,h as x,l as y}from"./index--UwMP9LN.js";import{w as b}from"./wd-divider.CcmTBsDu.js";import{f as T,w as j,p as k,b as S,a as I}from"./page-wraper.CWk-n8Ds.js";import{u as C}from"./useTranslate.DB6DQ0QV.js";const E=S(a({name:"wd-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...T,state:String,loadingText:String,finishedText:String,errorText:String},emits:["reload"],setup(a,{emit:p}){const v=a,w=p,{translate:h}=C("loadmore"),x=e(null);function y(){"error"===v.state&&(x.value="loading",w("reload"))}return(a,e)=>{const p=_,v=g;return s(),t(v,{class:c(["wd-loadmore",a.customClass]),style:f(a.customStyle),onClick:y},{default:l((()=>["finished"===a.state?(s(),t(b,{key:0},{default:l((()=>[r(o(a.finishedText||d(h)("finished")),1)])),_:1})):n("",!0),"error"===a.state?(s(),i(m,{key:1},[u(p,{class:"wd-loadmore__text"},{default:l((()=>[r(o(a.errorText||d(h)("error")),1)])),_:1}),u(p,{class:"wd-loadmore__text is-light"},{default:l((()=>[r(o(d(h)("retry")),1)])),_:1}),u(j,{name:"refresh","custom-class":"wd-loadmore__refresh"})],64)):n("",!0),"loading"===a.state?(s(),i(m,{key:2},[u(k,{"custom-class":"wd-loadmore__loading"}),u(p,{class:"wd-loadmore__text"},{default:l((()=>[r(o(a.loadingText||d(h)("loading")),1)])),_:1})],64)):n("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-6bab1123"]]),A=S(a({__name:"Index",setup(a){const d=e("loading"),n=e(0),c=e(60);function f(){setTimeout((()=>{n.value=n.value+15,d.value="loading"}),200)}return p((()=>{45===n.value?d.value="error":n.value<c.value?f():n.value===c.value&&(d.value="finished")})),v((()=>{f()})),(a,e)=>{const c=y,_=g,p=w(h("wd-loadmore"),E),v=w(h("page-wraper"),I);return s(),t(v,null,{default:l((()=>[u(_,{class:"container"},{default:l((()=>[(s(!0),i(m,null,x(n.value,(a=>(s(),t(_,{key:a,class:"list-item"},{default:l((()=>[u(c,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),u(_,{class:"right"},{default:l((()=>[r("这是一条测试"+o(a+1),1)])),_:2},1024)])),_:2},1024)))),128)),u(p,{state:d.value,onReload:f},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-7db38e08"]]);export{A as default};
