import{d as e,r as a,q as l,o as t,c as o,w as r,g as s,h as d,F as i,n,u as c,y as p,i as u,x as h,f as b,t as g,j as f,V as m,e as w,p as x,a4 as y,a as _,b as v}from"./index--UwMP9LN.js";import{x as $,v as j,l as k,i as C,f as S,m as L,g as I,t as H,h as F,C as M,o as D,ab as R,b as V,G as E,s as G,Q as U,a as q}from"./page-wraper.CWk-n8Ds.js";import{w as z}from"./wd-sort-button.CAGEmv1F.js";import{u as A}from"./useTranslate.DB6DQ0QV.js";import{u as B}from"./useChildren.B_Q15oAU.js";import{_ as O}from"./demo-block.KFMst2gM.js";const Q={prop:$(String),label:$(String),width:j(100),sortable:k(!1),fixed:k(!1),align:C("left")},T={...S,data:$(Array),border:k(!0),stripe:k(!0),height:C("80vh"),rowHeight:L(50),showHeader:k(!0),ellipsis:k(!0),index:{type:[Object,Boolean],default:!1}},J=Symbol("wd-table"),K=V(e({name:"wd-table-col",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:Q,setup(e,{expose:m}){const w=e,{parent:x,index:y}=I(J),_=a(0),v=l((()=>!!H(x)&&x.props.stripe)),$=l((()=>!!H(x)&&x.props.border)),j=l((()=>!!H(x)&&x.props.ellipsis)),k=l((()=>{let e=!1;return w.fixed&&H(x)&&(e=x.getIsLastFixed(w)),e})),C=l((()=>{let e={};return H(w.width)&&(e.width=F(w.width)),w.fixed&&H(x)&&M(x.getFixedStyle)&&(e=x.getFixedStyle(y.value,e)),e})),S=l((()=>{let e={};const a=H(x)?x.props.rowHeight:"80rpx";return H(a)&&(e.height=F(a)),w.fixed&&H(x)&&M(x.getFixedStyle)&&(e=x.getFixedStyle(y.value,e)),D(e)})),L=l((()=>{if(!H(x))return[];return x.props.data.map((e=>e[w.prop]))}));function V(e){return H(x)&&x.props.data[e]||{}}return m({sortDirection:_}),(e,a)=>{const l=f,m=u;return t(),o(m,{class:n(`wd-table-col ${e.fixed?"wd-table-col--fixed":""} ${k.value&&c(H)(c(x))&&c(x).scrollLeft?"is-shadow":""}`),style:p(C.value)},{default:r((()=>[(t(!0),s(i,null,d(L.value,((a,s)=>(t(),o(m,{class:n(`wd-table__cell ${v.value&&c(R)(s)?"is-stripe":""} ${$.value?"is-border":""} is-${e.align}`),key:s,style:p(S.value),onClick:e=>function(e){H(x)&&M(x.rowClick)&&x.rowClick(e)}(s)},{default:r((()=>[e.$slots.value?h(e.$slots,"value",{key:0,row:V(s),index:s},void 0,!0):(t(),o(l,{key:1,class:n("wd-table__value "+(j.value?"is-ellipsis":""))},{default:r((()=>[b(g(a),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style","onClick"])))),128))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-4f8d3c67"]]),N=V(e({name:"wd-table",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:T,emits:["sort-method","row-click"],setup(e,{emit:_}){const{translate:v}=A("tableCol"),$=e,j=_,k=m({props:$,scrollLeft:0,rowClick:function(e){j("row-click",{rowIndex:e})},getIsLastFixed:O,getFixedStyle:T}),{linkChildren:C,children:S}=B(J);C(k);const L=E(),I=a({prop:L,label:v("indexLabel"),width:"100rpx",sortable:!1,fixed:!1,align:"left",...G($.index)?$.index:{}}),M=U((function(e){if(!$.showHeader)return;k.scrollLeft=e.detail.scrollLeft}),100,{leading:!1}),R=l((()=>{const e={};return H($.height)&&(e["max-height"]=F($.height)),`${D(e)};${$.customStyle}`})),V=l((()=>{const e={display:"flex"};let a="";return S.forEach((e=>{a=a?`${a} + ${F(e.width)}`:F(e.width)})),e.width=`calc(${a})`,D(e)})),q=l((()=>{const e={};return H($.height)&&(e.height=H($.rowHeight)?`calc(${$.data.length} * ${F($.rowHeight)})`:`calc(${$.data.length} * 50px)`),`${D(e)};`}));function O(e){let a=!1;if(e.fixed&&H(S)){const l=S.filter((e=>e.fixed));l.length&&l[l.length-1].prop===e.prop&&(a=!0)}return a}function Q(e){let a={};return H(S[e].width)&&(a.width=F(S[e].width)),S[e].fixed&&(a=T(e,a)),D(a)}function T(e,a){if(e>0){let l="";S.forEach(((a,t)=>{t<e&&(l=l?`${l} + ${F(a.width)}`:F(a.width))})),a.left=`calc(${l})`}else a.left=0;return a}return(e,a)=>{const l=f,m=u,_=y;return t(),o(m,{class:n(`wd-table ${e.border?"is-border":""} ${e.customClass}`),style:p(R.value)},{default:r((()=>[e.showHeader?(t(),o(_,{key:0,"enable-flex":!0,throttle:!1,scrollLeft:k.scrollLeft,"scroll-x":!0,class:"wd-table__header",onScroll:c(M)},{default:r((()=>[w(m,{id:"table-header",class:"wd-table__content",style:p([V.value,{position:"sticky",top:"0","z-index":"2"}])},{default:r((()=>[(t(!0),s(i,null,d(c(S),((a,s)=>(t(),o(m,{class:n(`wd-table__cell ${e.border?"is-border":""} ${a.fixed?"is-fixed":""} ${e.stripe?"is-stripe":""} is-${a.align} ${O(a)&&k.scrollLeft?"is-shadow":""}`),style:p(Q(s)),key:s},{default:r((()=>[a.sortable?(t(),o(z,{key:0,modelValue:a.$.exposed.sortDirection.value,"onUpdate:modelValue":e=>a.$.exposed.sortDirection.value=e,"allow-reset":"",line:!1,title:a.label,onChange:({value:e})=>function(e,a){S[a].$.exposed.sortDirection.value=e,S.forEach(((e,l)=>{a!=l&&(e.$.exposed.sortDirection.value=0)}));const l={prop:S[a].prop,label:S[a].label,width:S[a].width,sortable:S[a].sortable,align:S[a].align,sortDirection:e,fixed:S[a].fixed};j("sort-method",l)}(e,s)},null,8,["modelValue","onUpdate:modelValue","title","onChange"])):(t(),o(l,{key:1,class:n("wd-table__value "+(e.ellipsis?"is-ellipsis":""))},{default:r((()=>[b(g(a.label),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style"])))),128))])),_:1},8,["style"])])),_:1},8,["scrollLeft","onScroll"])):x("",!0),w(_,{class:"wd-table__body",style:p(q.value),"enable-flex":!0,throttle:!1,"scroll-x":!0,onScroll:c(M),scrollLeft:k.scrollLeft},{default:r((()=>[w(m,{id:"table-body",class:"wd-table__content",style:p(V.value)},{default:r((()=>[!1!==e.index?(t(),o(K,{key:0,prop:I.value.prop,label:I.value.label,width:I.value.width,sortable:I.value.sortable,fixed:I.value.fixed,align:I.value.align},{value:r((({index:e})=>[w(l,null,{default:r((()=>[b(g(e+1),1)])),_:2},1024)])),_:1},8,["prop","label","width","sortable","fixed","align"])):x("",!0),h(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style","onScroll","scrollLeft"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-d67c1f05"]]),P=V(e({__name:"Index",setup(e){const l=a([{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:36,compare:"48%",hobby:"子龙，子龙，世无双"},{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:36,compare:"48%",hobby:"子龙，子龙，世无双"},{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"}]);function s(e){l.value=l.value.reverse()}function d({rowIndex:e}){console.log(e)}return(e,a)=>{const i=_(v("wd-table-col"),K),n=_(v("wd-table"),N),c=_(v("demo-block"),O),p=f,h=u,m=_(v("page-wraper"),q);return t(),o(m,null,{default:r((()=>[w(c,{title:"基本用法"},{default:r((()=>[w(n,{data:l.value,onSortMethod:s,height:"328px",onRowClick:d},{default:r((()=>[w(i,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(i,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(c,{title:"无边框"},{default:r((()=>[w(n,{data:l.value,onSortMethod:s,height:"328px",border:!1,onRowClick:d},{default:r((()=>[w(i,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(i,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(c,{title:"无斑马纹"},{default:r((()=>[w(n,{data:l.value,onSortMethod:s,height:"328px",stripe:!1,onRowClick:d},{default:r((()=>[w(i,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(i,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(c,{title:"不展示表头"},{default:r((()=>[w(n,{data:l.value,onSortMethod:s,height:"328px","show-header":!1,onRowClick:d},{default:r((()=>[w(i,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(i,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(c,{title:"固定列"},{default:r((()=>[w(n,{data:l.value,onSortMethod:s,onRowClick:d,height:"328px"},{default:r((()=>[w(i,{prop:"name",label:"姓名",fixed:"",sortable:!0,align:"center"}),w(i,{prop:"grade",label:"分数",fixed:"",sortable:!0,align:"center"}),w(i,{prop:"hobby",label:"一言以蔽之",sortable:!0,width:160}),w(i,{prop:"school",label:"求学之所",width:180}),w(i,{prop:"major",label:"专业"}),w(i,{prop:"gender",label:"性别"})])),_:1},8,["data"])])),_:1}),w(c,{title:"显示索引"},{default:r((()=>[w(n,{data:l.value,height:"328px",onSortMethod:s,index:{align:"center"}},{default:r((()=>[w(i,{prop:"name",label:"姓名",sortable:!0,align:"center"}),w(i,{prop:"grade",label:"分数",sortable:!0,align:"center"}),w(i,{prop:"hobby",label:"一言以蔽之",sortable:!0,width:160}),w(i,{prop:"school",label:"求学之所",width:180}),w(i,{prop:"major",label:"专业"}),w(i,{prop:"gender",label:"性别"})])),_:1},8,["data"])])),_:1}),w(c,{title:"自定义列模板"},{default:r((()=>[w(n,{data:l.value,onSortMethod:s,onRowClick:d,height:"328px"},{default:r((()=>[w(i,{prop:"name",label:"姓名",fixed:"",sortable:!0,align:"center"}),w(i,{prop:"grade",label:"分数",fixed:"",sortable:!0,align:"center"},{value:r((({row:e})=>[w(h,{class:"custom-class"},{default:r((()=>[w(p,null,{default:r((()=>[b(g(e.grade),1)])),_:2},1024),w(p,null,{default:r((()=>[b("同比"+g(e.compare),1)])),_:2},1024)])),_:2},1024)])),_:1}),w(i,{prop:"hobby",label:"一言以蔽之",sortable:!0,width:160}),w(i,{prop:"school",label:"求学之所",width:180}),w(i,{prop:"major",label:"专业"}),w(i,{prop:"gender",label:"性别"}),w(i,{prop:"graduation",label:"学成时间"})])),_:1},8,["data"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-377e4228"]]);export{P as default};
